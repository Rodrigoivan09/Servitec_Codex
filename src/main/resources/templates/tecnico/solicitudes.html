<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/extras/spring-security" lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Solicitudes asignadas - TÃ©cnico</title>
  <link th:href="@{/bootstrap/css/bootstrap.min.css}" rel="stylesheet">
  <link th:href="@{/iconos/bootstrap-icons.css}" rel="stylesheet">
  <link th:href="@{/tema/miestilo.css}" rel="stylesheet">
</head>
<body>
<header th:replace="~{page-templates :: navbar}"></header>

<main class="container my-4">
  <div class="shadow-lg p-4 bg-body-tertiary rounded">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h2 class="mb-0">Solicitudes asignadas</h2>
      <a class="btn btn-outline-secondary" th:href="@{/tecnico}"><i class="bi bi-arrow-left"></i> Panel</a>
    </div>

    <div class="table-responsive">
      <table class="table table-striped align-middle">
        <thead>
        <tr>
          <th>Folio</th>
          <th>Cliente</th>
          <th>Servicio</th>
          <th>Fecha</th>
          <th>Hora</th>
          <th>Estado</th>
        </tr>
        </thead>
        <tbody>
        <tr th:if="${#lists.isEmpty(solicitudes)}">
          <td colspan="6" class="text-center text-muted">Sin solicitudes asignadas</td>
        </tr>
        <tr th:each="s : ${solicitudes}">
          <td th:text="${s.id}">1</td>
          <td th:text="${s.usuario != null ? s.usuario.nombre : 'N/D'}">Cliente</td>
          <td th:text="${s.servicio != null ? s.servicio.nombreServicio : 'N/D'}">Servicio</td>
          <td th:text="${s.fecha}">2025-01-01</td>
          <td th:text="${s.horaLlegada}">09:00</td>
          <td>
            <span class="badge" th:classappend="${s.estado=='Pendiente'} ? ' bg-warning text-dark' : (${s.estado=='Completado' or s.estado=='Completada'} ? ' bg-success' : ' bg-info')"
                  th:text="${s.estado}">Pendiente</span>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
  </main>

<footer th:replace="~{page-templates :: footer}"></footer>
<script th:src="@{/bootstrap/js/bootstrap.bundle.min.js}"></script>
</body>
</html>

